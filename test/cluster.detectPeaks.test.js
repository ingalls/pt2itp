'use strict';

const Cluster = require('../lib/map/cluster');
const test = require('tape');

const buildDistDelta = (cluster) => cluster.addressPoints.reduce((m, v, i, a) => {
    if (i > 0) {
        const deltaNum = a[i].props.number - a[i - 1].props.number;
        m.push([a[i].location, deltaNum > 0 ? 1 : -1]);
    }
    return m;
}, []);

test('Assert no peaks: increasing address', (t) => {
    const breaks = [];
    const dist = [{}, {}, {}, {}, {}, {}, {}];
    const distDelta = [
        [0.08377450659387839, 1],
        [0.17396332414573248, 1],
        [0.23793824079317832, 1],
        [0.3891094963970436, 1],
        [0.44205524435250465, 1],
        [0.5580128085166958, 1],
        [0.6847299289068616, 1]
    ];

    Cluster.detectPeaks(breaks, dist, distDelta);

    t.deepEquals(breaks, []);

    t.end();
});

test('Assert no peaks: decreasing address', (t) => {
    const breaks = [];
    const dist = [{}, {}, {}, {}, {}, {}, {}];
    const distDelta = [
        [0.08377450659387839, -1],
        [0.17396332414573248, -1],
        [0.23793824079317832, -1],
        [0.3891094963970436, -1],
        [0.44205524435250465, -1],
        [0.5580128085166958, -1],
        [0.6847299289068616, -1]
    ];

    Cluster.detectPeaks(breaks, dist, distDelta);

    t.deepEquals(breaks, []);

    t.end();
});


test('Assert single peak detection', (t) => {
    const breaks = [];
    const dist = [{}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}];
    const distDelta = [
        [0.08377450659387839, 1],
        [0.17396332414573248, 1],
        [0.23793824079317832, 1],
        [0.3891094963970436, 1],
        [0.44205524435250465, 1],
        [0.5580128085166958, 1],
        [0.6847299289068616, 1],
        [1.6431225457560013, -1],
        [1.8805725020521158, -1],
        [1.8826690187380661, -1],
        [2.0578276385130447, -1],
        [2.135383249826695, -1],
        [2.293316256609901, -1],
        [2.3579600324821057, -1],
        [2.4359468967236415, -1]
    ];

    Cluster.detectPeaks(breaks, dist, distDelta);

    t.deepEquals(breaks, [7]);

    t.end();
});

// We handle just one break
// TODO: This is suppose to get 7 and not 8
test('Assert multiple peaks detection', (t) => {
    const breaks = [];
    const dist = [{}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}];
    const distDelta = [
        [0.08377450659387839, 1],
        [0.17396332414573248, 1],
        [0.23793824079317832, 1],
        [0.3891094963970436, 1],
        [0.44205524435250465, 1],
        [0.5580128085166958, 1],
        [0.6847299289068616, 1],
        [1.6431225457560013, -1],
        [1.8805725020521158, -1],
        [1.8826690187380661, -1],
        [2.0578276385130447, -1],
        [2.135383249826695, -1],
        [2.293316256609901, -1],
        [2.3579600324821057, -1],
        [3.4359468967236415, 1],
        [3.0578276385130447, 1],
        [3.135383249826695, 1],
        [3.293316256609901, 1],
        [3.3579600324821057, 1],
        [3.4359468967236415, 1]
    ];

    Cluster.detectPeaks(breaks, dist, distDelta);

    t.deepEquals(breaks, [8]);
    t.end();
});

test('Moving Average', (t) => {
    let vals = [5, 5, 5, 5, 5, 5, 5, 5, 5, 5].map((v, i) => [i, v]);
    let avg = Cluster.movingAverage(vals, 5);
    t.deepEqual(avg, [
        5,
        5,
        5,
        5,
        5,
        5,
        5,
        5,
        5,
        5
    ]);

    vals = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10].map((v, i) => [i, v]);
    avg = Cluster.movingAverage(vals, 5);
    t.deepEqual(avg,[
        1,
        1.5,
        2,
        2.5,
        3,
        4,
        5,
        6,
        7,
        8
    ]);

    vals = [1, 2, 3, 4, 1, 6, 7, 8, 900, 10].map((v, i) => [i, v]);
    avg = Cluster.movingAverage(vals, 5);
    t.deepEqual(avg, [
        1,
        1.5,
        2,
        2.5,
        2.2,
        3.2,
        4.2,
        5.2,
        184.4,
        186.2
    ]);

    vals = [1].map((v, i) => [i, v]);
    avg = Cluster.movingAverage(vals, 1);
    t.deepEqual(avg, [1], 'Single value input');

    vals = [1].map((v, i) => [i, v]);
    avg = Cluster.movingAverage(vals, 10);
    t.deepEqual(avg, [1], 'Overly large window');

    vals = [].map((v, i) => [i, v]);
    avg = Cluster.movingAverage(vals, 1);
    t.deepEqual(avg, [], 'Empty input, empty output.');

    vals = [1, 1, 1, -1, -1, 1, 1, 1, 1, 1].map((v, i) => [i, v]);
    avg = Cluster.movingAverage(vals, 1);
    t.deepEqual(avg, [1, 1, 1, -1, -1, 1, 1, 1, 1, 1]);

    vals = [1, 1, 1, 1, 1, 1, -1, -1, -1, -1, -1, -1, -1, 1, 1, 1, 1, 1, 1, 1].map((v, i) => [i, v]);
    avg = Cluster.movingAverage(vals, 2);
    t.deepEqual(avg,[1, 1, 1, 1, 1, 1, 0, -1, -1, -1, -1, -1, -1, 0, 1, 1, 1, 1, 1, 1]);

    t.end();
});


// peak detection

//             *   *
//         *           *
//     *                   *
// *             o            *
test('handle outliers within peaks', (t) => {
    const cluster = {
        addressPoints: [
            { location: 0, props: { number: 2 } },
            { location: 0.1, props: { number: 4 } },
            { location: 0.2, props: { number: 6 } },
            { location: 0.3, props: { number: 8 } },
            { location: 0.4, props: { number: 10 } },
            { location: 0.5, props: { number: 0 } },
            { location: 0.6, props: { number: 10 } },
            { location: 0.7, props: { number: 8 } },
            { location: 0.8, props: { number: 6 } },
            { location: 0.9, props: { number: 4 } },
            { location: 1, props: { number: 2 } }
        ]
    };

    const distDelta = buildDistDelta(cluster);

    const breaks = [];

    Cluster.detectPeaks(breaks, cluster.addressPoints, distDelta);

    t.deepEquals(breaks, [6]);
    t.end();
});

// *
//    *
//       *
//          *                   *
//             *             *
//                *       *
//                    *
// TODO: we can't identify valleys
test('handle valleys', (t) => {
    const cluster = {
        addressPoints: [
            { location: 7.4261073909272755, props: { number: '41' } },
            { location: 7.510718256392234, props: { number: '45' } },
            { location: 7.421808763203525, props: { number: '52' } },
            { location: 7.25374091499464, props: { number: '54' } },
            { location: 7.527146005324963, props: { number: '54' } },
            { location: 7.559053638103534, props: { number: '55' } },
            { location: 7.576545902538008, props: { number: '62' } },
            { location: 7.660641593411235, props: { number: '65' } },
            { location: 7.699740525113503, props: { number: '73' } },
            { location: 7.758640315163861, props: { number: '83' } },
            { location: 7.842986212792082, props: { number: '85' } },
            { location: 7.73097331101934, props: { number: '88' } },
            { location: 7.864950174785923, props: { number: '89' } },
            { location: 8.015469576994674, props: { number: '95' } },
            { location: 7.824613548368292, props: { number: '96' } },
            { location: 7.915905192870336, props: { number: '97' } },
            { location: 7.959497251790742, props: { number: '99' } },
            { location: 8.02853449556527, props: { number: '101' } },
            { location: 7.915706447124168, props: { number: '112' } },
            { location: 7.96744494063166, props: { number: '118' } },
            { location: 8.03260644683183, props: { number: '124' } },
            { location: 8.238324929469622, props: { number: '125' } },
            { location: 8.322641821308837, props: { number: '129' } },
            { location: 8.093938797003526, props: { number: '130' } },
            { location: 8.363032154022473, props: { number: '131' } },
            { location: 7.170501272695226, props: { number: '135' } },
            { location: 8.201310942282504, props: { number: '136' } },
            { location: 8.276074618158036, props: { number: '140' } },
            { location: 8.435195449209123, props: { number: '151' } },
            { location: 8.306725597494642, props: { number: '158' } },
            { location: 8.365067373387925, props: { number: '162' } },
            { location: 6.884200555462582, props: { number: '165' } },
            { location: 8.415833923106574, props: { number: '168' } },
            { location: 8.46330355547223, props: { number: '170' } },
            { location: 8.514777642342253, props: { number: '176' } },
            { location: 8.601595724249327, props: { number: '179' } },
            { location: 8.614205351521065, props: { number: '186' } },
            { location: 8.70943996743086, props: { number: '188' } },
            { location: 8.742242688120074, props: { number: '190' } },
            { location: 8.846860495319996, props: { number: '191' } },
            { location: 8.891671477367872, props: { number: '203' } },
            { location: 8.95529405406894, props: { number: '205' } },
            { location: 8.99298467838091, props: { number: '207' } },
            { location: 8.792708108982447, props: { number: '212' } },
            { location: 8.82536800185562, props: { number: '214' } },
            { location: 9.087538729796934, props: { number: '215' } },
            { location: 6.741562279817824, props: { number: '217' } },
            { location: 9.145372228676171, props: { number: '217' } },
            { location: 6.732715510248964, props: { number: '219' } },
            { location: 8.776402678067715, props: { number: '224' } },
            { location: 6.700613855700074, props: { number: '225' } },
            { location: 8.878763241799879, props: { number: '226' } },
            { location: 6.680758188025358, props: { number: '235' } },
            { location: 6.660030540651367, props: { number: '243' } },
            { location: 9.336636829513807, props: { number: '251' } },
            { location: 6.633869897398459, props: { number: '255' } },
            { location: 9.160335712973882, props: { number: '256' } },
            { location: 9.393049865089822, props: { number: '259' } },
            { location: 6.594349188676569, props: { number: '260' } },
            { location: 6.5533957450915175, props: { number: '270' } },
            { location: 9.458200849281807, props: { number: '271' } },
            { location: 6.565249870978964, props: { number: '275' } },
            { location: 9.306918034079782, props: { number: '276' } },
            { location: 9.520348085620052, props: { number: '279' } },
            { location: 9.345807541511205, props: { number: '282' } },
            { location: 9.576915972112614, props: { number: '287' } },
            { location: 6.512734228780447, props: { number: '290' } },
            { location: 9.443082056204155, props: { number: '290' } },
            { location: 6.518423558885174, props: { number: '293' } },
            { location: 9.50610302342674, props: { number: '296' } },
            { location: 6.476173358907373, props: { number: '299' } },
            { location: 6.469630282756877, props: { number: '300' } },
            { location: 9.908268539617284, props: { number: '305' } },
            { location: 9.543247546987176, props: { number: '308' } },
            { location: 6.446501744489601, props: { number: '311' } },
            { location: 9.629547424254158, props: { number: '314' } },
            { location: 6.429459239519629, props: { number: '321' } },
            { location: 9.999238126548939, props: { number: '323' } },
            { location: 6.388150880936032, props: { number: '325' } },
            { location: 10.101473139157124, props: { number: '341' } },
            { location: 10.221805464306904, props: { number: '345' } },
            { location: 9.995855957146208, props: { number: '354' } },
            { location: 10.287675166159707, props: { number: '357' } },
            { location: 10.05733876944229, props: { number: '362' } },
            { location: 6.349900024128002, props: { number: '365' } },
            { location: 10.469064805971703, props: { number: '371' } },
            { location: 10.149887714957583, props: { number: '372' } },
            { location: 10.28304786089047, props: { number: '388' } },
            { location: 10.614020168749594, props: { number: '389' } },
            { location: 10.347604617711145, props: { number: '396' } },
            { location: 6.144166932770629, props: { number: '405' } },
            { location: 10.516546733475987, props: { number: '412' } },
            { location: 6.075216016168455, props: { number: '445' } },
            { location: 5.884561588307024, props: { number: '505' } },
            { location: 11.747728818238508, props: { number: '515' } },
            { location: 5.814202095535278, props: { number: '520' } },
            { location: 5.821690372001128, props: { number: '525' } },
            { location: 5.747245501462275, props: { number: '545' } },
            { location: 5.7246094345774905, props: { number: '550' } },
            { location: 5.668697029795322, props: { number: '565' } },
            { location: 5.6612474619356234, props: { number: '567' } },
            { location: 5.622260131290074, props: { number: '575' } },
            { location: 5.512145506939533, props: { number: '605' } },
            { location: 5.490592682744424, props: { number: '610' } },
            { location: 5.377486992523425, props: { number: '664' } },
            { location: 5.349571495561817, props: { number: '669' } },
            { location: 5.335792605448077, props: { number: '673' } },
            { location: 5.344938725784263, props: { number: '684' } },
            { location: 5.337859076459338, props: { number: '686' } },
            { location: 5.314888252072595, props: { number: '692' } },
            { location: 5.302718471943849, props: { number: '694' } },
            { location: 5.29436593048958, props: { number: '696' } },
            { location: 5.30058667510316, props: { number: '697' } },
            { location: 5.287200386554483, props: { number: '698' } },
            { location: 5.264514464297575, props: { number: '705' } },
            { location: 5.087198049602688, props: { number: '770' } },
            { location: 4.973032095494234, props: { number: '801' } },
            { location: 4.961792499944497, props: { number: '803' } },
            { location: 4.943099595970675, props: { number: '819' } },
            { location: 4.881557872079942, props: { number: '835' } },
            { location: 4.837776950034078, props: { number: '845' } },
            { location: 4.765606682751553, props: { number: '864' } },
            { location: 4.776284413707558, props: { number: '865' } },
            { location: 4.749760898077767, props: { number: '874' } },
            { location: 4.722113780462481, props: { number: '884' } },
            { location: 4.485357476164079, props: { number: '939' } },
            { location: 4.56323492047459, props: { number: '940' } },
            { location: 4.511311157385144, props: { number: '945' } },
            { location: 4.497033392774693, props: { number: '947' } },
            { location: 4.513754423286387, props: { number: '950' } },
            { location: 4.488240061909571, props: { number: '965' } },
            { location: 4.465653808459578, props: { number: '970' } },
            { location: 4.434208176784861, props: { number: '975b' } },
            { location: 4.419368914169312, props: { number: '975' } },
            { location: 4.395484083917136, props: { number: '985b' } },
            { location: 4.402036461863804, props: { number: '985' } },
            { location: 4.407633979007142, props: { number: '985a' } },
            { location: 4.414793020726075, props: { number: '990' } },
            { location: 4.405664454270632, props: { number: '992' } },
            { location: 4.395880805576519, props: { number: '998' } },
            { location: 4.375215448288002, props: { number: '999' } },
            { location: 4.387953573552197, props: { number: '1000' } },
            { location: 4.368123397144787, props: { number: '1001' } },
            { location: 4.350422644996434, props: { number: '1005' } },
            { location: 4.348709249694549, props: { number: '1010' } },
            { location: 4.337384339991742, props: { number: '1014' } },
            { location: 4.326179876065968, props: { number: '1015' } },
            { location: 4.316946225786554, props: { number: '1017' } },
            { location: 4.277325119427533, props: { number: '1030' } },
            { location: 4.255104905849669, props: { number: '1040' } },
            { location: 4.149740356116292, props: { number: '1045' } },
            { location: 4.213060036365149, props: { number: '1050' } },
            { location: 4.203216520362647, props: { number: '1052' } },
            { location: 4.1890800475596, props: { number: '1060' } },
            { location: 4.181422769291589, props: { number: '1062' } },
            { location: 4.166174713143214, props: { number: '1070' } },
            { location: 4.157620513922358, props: { number: '1072' } },
            { location: 4.113079827504743, props: { number: '1090' } },
            { location: 3.9056849162499585, props: { number: '1150' } },
            { location: 3.8583364562037525, props: { number: '1180' } },
            { location: 3.8190790928798632, props: { number: '1181' } },
            { location: 3.7469353913669514, props: { number: '1199' } },
            { location: 3.694635766874924, props: { number: '1220' } },
            { location: 3.6826766733328182, props: { number: '1225' } },
            { location: 3.5385710320441923, props: { number: '1247' } },
            { location: 3.5915113936818153, props: { number: '1250' } },
            { location: 3.4770839957908932, props: { number: '1270' } },
            { location: 3.4951497597850554, props: { number: '1275' } },
            { location: 3.3798855975629367, props: { number: '1310' } },
            { location: 3.3682199010392595, props: { number: '1312' } },
            { location: 3.432544504082022, props: { number: '1313' } },
            { location: 3.347418126143309, props: { number: '1340' } },
            { location: 3.325343660480359, props: { number: '1345' } },
            { location: 3.2828215300757573, props: { number: '1350' } },
            { location: 3.2673902800656527, props: { number: '1355' } },
            { location: 3.251568939568885, props: { number: '1370' } },
            { location: 3.2062944440393086, props: { number: '1375' } },
            { location: 3.1558198544374223, props: { number: '1410' } },
            { location: 3.0936297814889095, props: { number: '1430' } },
            { location: 2.948769988198561, props: { number: '1435' } },
            { location: 3.0456008375144155, props: { number: '1444' } },
            { location: 2.9759432945965956, props: { number: '1464' } },
            { location: 2.8923110619703545, props: { number: '1485' } },
            { location: 2.8606598625652877, props: { number: '1500' } },
            { location: 2.769926817436744, props: { number: '1515' } },
            { location: 2.76581142357344, props: { number: '1530' } },
            { location: 2.7213126117899864, props: { number: '1535' } },
            { location: 2.6964036908741513, props: { number: '1555' } },
            { location: 2.698257292760184, props: { number: '1558' } },
            { location: 2.65767359199215, props: { number: '1565' } },
            { location: 2.633359625110655, props: { number: '1570' } },
            { location: 2.62384895388833, props: { number: '1575' } },
            { location: 2.5976677239554253, props: { number: '1585' } },
            { location: 2.5383326520612894, props: { number: '1590' } },
            { location: 2.545384826340126, props: { number: '1591' } },
            { location: 2.4838860852716653, props: { number: '1630' } },
            { location: 2.301511583838405, props: { number: '1660' } },
            { location: 2.1976577400765422, props: { number: '1714' } },
            { location: 2.1025356378701274, props: { number: '1750' } },
            { location: 1.8914414244022966, props: { number: '1830' } },
            { location: 1.8114622389523642, props: { number: '1858' } },
            { location: 1.702706130243477, props: { number: '1865' } },
            { location: 1.7597839704263785, props: { number: '1880' } },
            { location: 1.5743073188792984, props: { number: '1915' } },
            { location: 1.5716850261322934, props: { number: '1930' } },
            { location: 1.3982663973641005, props: { number: '1985' } },
            { location: 1.282236273420602, props: { number: '2025' } },
            { location: 1.0060112211822554, props: { number: '2110' } },
            { location: 0.8192383674804713, props: { number: '2175' } },
            { location: 0.4272183356759195, props: { number: '2282' } },
            { location: 0.27743041528928125, props: { number: '2315' } },
            { location: 0.35650767098376623, props: { number: '2324' } },
            { location: 0.2749217017572545, props: { number: '2345' } },
            { location: 0.13134174380305288, props: { number: '2385' } },
            { location: 0.10029017241910905, props: { number: '2395' } },
            { location: 0.06230562068487159, props: { number: '2404' } }
        ]
    };

    cluster.addressPoints.sort((a, b) => a.location - b.location);

    const distDelta = buildDistDelta(cluster);

    const breaks = [];

    Cluster.detectPeaks(breaks, cluster.addressPoints, distDelta);

    t.deepEquals(breaks, []);
    t.end();
});

//       *
//          *
//             *
//    *           *
// *                 *
//                      *
//                         *
test('handle peak small and large sides of peak', (t) => {
    const cluster = {
        addressPoints: [
            { location: 10.370523849549613, props: { number: '1c' } },
            { location: 10.383193854142029, props: { number: '1a' } },
            { location: 10.54227140839487, props: { number: '5' } },
            { location: 10.542826963323675, props: { number: '7' } },
            { location: 10.500283642191901, props: { number: '14' } },
            { location: 11.36797806758507, props: { number: '100' } },
            { location: 10.457861465456014, props: { number: '103' } },
            { location: 10.17375063962195, props: { number: '125' } },
            { location: 11.342247247738744, props: { number: '125' } },
            { location: 10.162868706786892, props: { number: '126' } },
            { location: 10.14686924079666, props: { number: '127' } },
            { location: 11.300267248376018, props: { number: '127' } },
            { location: 10.138867727950105, props: { number: '128' } },
            { location: 11.290290382557652, props: { number: '131' } },
            { location: 11.281458877861796, props: { number: '133' } },
            { location: 11.254441196426276, props: { number: '135' } },
            { location: 11.175736366221345, props: { number: '167' } },
            { location: 11.195785880836542, props: { number: '170' } },
            { location: 11.155091866905316, props: { number: '186' } },
            { location: 11.165391154186835, props: { number: '187' } },
            { location: 11.125925179288064, props: { number: '188' } },
            { location: 10.468142083963444, props: { number: '201' } },
            { location: 11.147776556177691, props: { number: '207' } },
            { location: 11.108505980954533, props: { number: '215' } },
            { location: 10.190032082420222, props: { number: '221' } },
            { location: 10.180722360410417, props: { number: '222' } },
            { location: 10.164090034838978, props: { number: '223' } },
            { location: 10.153428627723752, props: { number: '224' } },
            { location: 11.039002168588144, props: { number: '250' } },
            { location: 10.992778637400983, props: { number: '268' } },
            { location: 10.970445609016311, props: { number: '270' } },
            { location: 10.955994483910699, props: { number: '280' } },
            { location: 10.934744770273635, props: { number: '290' } },
            { location: 10.880570096205735, props: { number: '300' } },
            { location: 10.861138580983816, props: { number: '312' } },
            { location: 10.844749790623174, props: { number: '316' } },
            { location: 10.844680992174402, props: { number: '318' } },
            { location: 10.821522351909527, props: { number: '326' } },
            { location: 10.797384644009728, props: { number: '338' } },
            { location: 10.79076668058051, props: { number: '340' } },
            { location: 10.767200830140549, props: { number: '345' } },
            { location: 10.776547379978119, props: { number: '346' } },
            { location: 10.726785890162825, props: { number: '356' } },
            { location: 10.665754360230878, props: { number: '380' } },
            { location: 10.708587518070315, props: { number: '387' } },
            { location: 10.62614600645801, props: { number: '390' } },
            { location: 10.666027289784848, props: { number: '391' } },
            { location: 10.647352444831672, props: { number: '405' } },
            { location: 10.284065967523674, props: { number: '415' } },
            { location: 10.27698762931535, props: { number: '416' } },
            { location: 10.62476415420462, props: { number: '420' } },
            { location: 10.575768140353826, props: { number: '426' } },
            { location: 10.46008820616207, props: { number: '483' } },
            { location: 10.42707286543887, props: { number: '485' } },
            { location: 10.39066974922096, props: { number: '491' } },
            { location: 10.312459769886937, props: { number: '500' } },
            { location: 10.373330090840357, props: { number: '505' } },
            { location: 10.35550561788008, props: { number: '511' } },
            { location: 10.333873824899875, props: { number: '519' } },
            { location: 10.277302616245542, props: { number: '560' } },
            { location: 10.22155114317283, props: { number: '573' } },
            { location: 10.166224645704705, props: { number: '585' } },
            { location: 10.141009667111108, props: { number: '593' } },
            { location: 10.114655281684561, props: { number: '603' } },
            { location: 10.096219336076702, props: { number: '611' } },
            { location: 10.065984402786288, props: { number: '615' } },
            { location: 10.04140980829379, props: { number: '625' } },
            { location: 9.97221375721522, props: { number: '655' } },
            { location: 9.934297303808455, props: { number: '680' } },
            { location: 9.880429113073944, props: { number: '699' } },
            { location: 9.861693495048819, props: { number: '715' } },
            { location: 9.845511997711482, props: { number: '721' } },
            { location: 9.787635397063228, props: { number: '757' } },
            { location: 9.725001886897635, props: { number: '758' } },
            { location: 9.721248239547363, props: { number: '761' } },
            { location: 9.69063285663003, props: { number: '765' } },
            { location: 9.683259269826042, props: { number: '770' } },
            { location: 9.65643075659368, props: { number: '787' } },
            { location: 9.655079929242655, props: { number: '800' } },
            { location: 9.613238285516607, props: { number: '804' } },
            { location: 9.628209427099348, props: { number: '805' } },
            { location: 9.597652164751372, props: { number: '807' } },
            { location: 9.54671383453289, props: { number: '833' } },
            { location: 9.534256089388187, props: { number: '834' } },
            { location: 9.530739752837391, props: { number: '836' } },
            { location: 9.4708193540509, props: { number: '861' } },
            { location: 9.43823386174829, props: { number: '895' } },
            { location: 9.433048538217532, props: { number: '900' } },
            { location: 9.352208275456867, props: { number: '907' } },
            { location: 9.33848491515952, props: { number: '910' } },
            { location: 9.326435397358795, props: { number: '914' } },
            { location: 9.32194425106383, props: { number: '916' } },
            { location: 9.318931428159859, props: { number: '917' } },
            { location: 9.322214467305754, props: { number: '918' } },
            { location: 9.32203182786472, props: { number: '920' } },
            { location: 9.307408122671745, props: { number: '922' } },
            { location: 9.308302400153105, props: { number: '924' } },
            { location: 9.308541013871562, props: { number: '926' } },
            { location: 9.292930253484835, props: { number: '927' } },
            { location: 9.301312582442952, props: { number: '930' } },
            { location: 9.542462861790359, props: { number: '934' } },
            { location: 9.27924673513189, props: { number: '935' } },
            { location: 9.274710625679077, props: { number: '937' } },
            { location: 9.308207500091111, props: { number: '938' } },
            { location: 9.268934587024335, props: { number: '940' } },
            { location: 9.247321709448688, props: { number: '941' } },
            { location: 9.24776603912772, props: { number: '942' } },
            { location: 9.247936689014097, props: { number: '944' } },
            { location: 9.227903602422899, props: { number: '945' } },
            { location: 9.248245835837944, props: { number: '946' } },
            { location: 9.224571654264613, props: { number: '954' } },
            { location: 9.224081065277277, props: { number: '957' } },
            { location: 9.209269967195237, props: { number: '960' } },
            { location: 9.209189580068477, props: { number: '961' } },
            { location: 9.209228539042654, props: { number: '963' } },
            { location: 9.195261297189187, props: { number: '965' } },
            { location: 9.195465893356973, props: { number: '967' } },
            { location: 9.172058618363623, props: { number: '971' } },
            { location: 9.171783390068752, props: { number: '973' } },
            { location: 9.172099501821041, props: { number: '975' } },
            { location: 9.164414177484408, props: { number: '980' } },
            { location: 9.158537033278224, props: { number: '982' } },
            { location: 9.153335098236106, props: { number: '983' } },
            { location: 9.14433374890596, props: { number: '984' } },
            { location: 9.153448699059968, props: { number: '985' } },
            { location: 9.153777873897697, props: { number: '987' } },
            { location: 9.137875975066125, props: { number: '989' } },
            { location: 9.136141044821997, props: { number: '990' } },
            { location: 9.138001038073638, props: { number: '991' } },
            { location: 9.138105097264798, props: { number: '993' } },
            { location: 9.123080632764028, props: { number: '995' } },
            { location: 9.123463778032777, props: { number: '997' } },
            { location: 9.114624246957128, props: { number: '1000' } },
            { location: 9.09325789831482, props: { number: '1007' } },
            { location: 9.092936455414291, props: { number: '1009' } },
            { location: 9.079166945248584, props: { number: '1015' } },
            { location: 9.077162075216823, props: { number: '1020' } },
            { location: 9.03362499897051, props: { number: '1022' } },
            { location: 9.063209491498068, props: { number: '1025' } },
            { location: 9.030573597912918, props: { number: '1029' } },
            { location: 8.930880520861527, props: { number: '1067' } },
            { location: 8.923031326113485, props: { number: '1069' } },
            { location: 8.966210392166724, props: { number: '1070' } },
            { location: 8.905959779508349, props: { number: '1083' } },
            { location: 8.906015716529687, props: { number: '1085' } },
            { location: 8.905998122139266, props: { number: '1087' } },
            { location: 8.881732560985167, props: { number: '1099' } },
            { location: 8.868812611033437, props: { number: '1102' } },
            { location: 8.868149307621179, props: { number: '1104' } },
            { location: 8.842637729762284, props: { number: '1108' } },
            { location: 8.842648408843273, props: { number: '1110' } },
            { location: 8.729789477139837, props: { number: '1150' } },
            { location: 8.678503669104362, props: { number: '1152' } },
            { location: 8.713675339429937, props: { number: '1152' } },
            { location: 8.67001043608785, props: { number: '1177' } },
            { location: 8.704482806495928, props: { number: '1179' } },
            { location: 8.626235795675141, props: { number: '1184' } },
            { location: 8.616867913321089, props: { number: '1187' } },
            { location: 8.578378725589213, props: { number: '1211' } },
            { location: 8.520350246200115, props: { number: '1225' } },
            { location: 8.51352001273821, props: { number: '1226' } },
            { location: 8.509901787287616, props: { number: '1229' } },
            { location: 8.496763661900406, props: { number: '1233' } },
            { location: 8.496545291022908, props: { number: '1235' } },
            { location: 8.475048847415438, props: { number: '1238' } },
            { location: 8.474372121903338, props: { number: '1243' } },
            { location: 8.475433431684028, props: { number: '1245' } },
            { location: 8.459352624763351, props: { number: '1249' } },
            { location: 8.449192183006069, props: { number: '1250' } },
            { location: 8.423130502989324, props: { number: '1254' } },
            { location: 8.43655459762619, props: { number: '1255' } },
            { location: 8.423303176901873, props: { number: '1256' } },
            { location: 8.404500237033453, props: { number: '1262' } },
            { location: 8.421389822277057, props: { number: '1265' } },
            { location: 8.404075110025138, props: { number: '1266' } },
            { location: 8.407520137130366, props: { number: '1269' } },
            { location: 8.386365092790115, props: { number: '1270' } },
            { location: 8.364016156530292, props: { number: '1282' } },
            { location: 8.361421545868447, props: { number: '1282' } },
            { location: 8.373768009246318, props: { number: '1283' } },
            { location: 8.374822316733521, props: { number: '1285' } },
            { location: 8.331321433400467, props: { number: '1300' } },
            { location: 8.332550707044538, props: { number: '1303' } },
            { location: 8.311193487801928, props: { number: '1307' } },
            { location: 8.162117939668796, props: { number: '1325' } },
            { location: 8.231958340022183, props: { number: '1334' } },
            { location: 8.221820897241972, props: { number: '1336' } },
            { location: 8.125397561639167, props: { number: '1370' } },
            { location: 8.097273897410032, props: { number: '1372' } },
            { location: 8.056620836307983, props: { number: '1390' } },
            { location: 8.024024260285145, props: { number: '1393' } },
            { location: 8.02668423029188, props: { number: '1394' } },
            { location: 8.01961975809729, props: { number: '1396' } },
            { location: 8.006700078914783, props: { number: '1399' } },
            { location: 8.001900469077297, props: { number: '1403' } },
            { location: 7.994126698494866, props: { number: '1406' } },
            { location: 7.9946603481615535, props: { number: '1407' } },
            { location: 7.9941765748648805, props: { number: '1408' } },
            { location: 7.9552007954506125, props: { number: '1420' } },
            { location: 7.7275930238693755, props: { number: '1505' } },
            { location: 7.758980103084642, props: { number: '1509' } },
            { location: 7.700511617056282, props: { number: '1512' } },
            { location: 7.663563026529148, props: { number: '1527' } },
            { location: 7.658091726547616, props: { number: '1529' } },
            { location: 7.656356818718296, props: { number: '1530' } },
            { location: 7.6440524861158, props: { number: '1531' } },
            { location: 7.637722568752704, props: { number: '1535' } },
            { location: 7.63204234470144, props: { number: '1539' } },
            { location: 7.616707180961959, props: { number: '1543' } },
            { location: 7.6096902441335335, props: { number: '1545' } },
            { location: 7.599353685693707, props: { number: '1547' } },
            { location: 7.592976308930531, props: { number: '1551' } },
            { location: 7.589846358021568, props: { number: '1553' } },
            { location: 7.571214261053713, props: { number: '1555' } },
            { location: 7.572512244010203, props: { number: '1557' } },
            { location: 7.571556339429349, props: { number: '1559' } },
            { location: 7.546793562527918, props: { number: '1565' } },
            { location: 7.550183520987415, props: { number: '1567' } },
            { location: 7.554094419360287, props: { number: '1569' } },
            { location: 7.524080771781965, props: { number: '1570' } },
            { location: 7.52870131807168, props: { number: '1571' } },
            { location: 7.511455294943014, props: { number: '1575' } },
            { location: 7.491133220101142, props: { number: '1590' } },
            { location: 7.475301928116999, props: { number: '1590' } },
            { location: 7.2320730138132125, props: { number: '1600' } },
            { location: 7.439838831260773, props: { number: '1608' } },
            { location: 7.417633446670437, props: { number: '1613' } },
            { location: 7.405251933944422, props: { number: '1614' } },
            { location: 7.397179738149759, props: { number: '1616' } },
            { location: 7.3965687184362, props: { number: '1621' } },
            { location: 7.382827057672783, props: { number: '1623' } },
            { location: 7.363145518207859, props: { number: '1626' } },
            { location: 7.269691348603448, props: { number: '1635' } },
            { location: 7.294075749791174, props: { number: '1640' } },
            { location: 7.2725436822685445, props: { number: '1666' } },
            { location: 7.260674457152717, props: { number: '1677' } },
            { location: 7.050639650049421, props: { number: '1700' } },
            { location: 7.1015304918559075, props: { number: '1700' } },
            { location: 7.111587092795658, props: { number: '1702' } },
            { location: 7.190585964527722, props: { number: '1704' } },
            { location: 7.002587382427503, props: { number: '1754' } },
            { location: 6.9328128938224065, props: { number: '1764' } },
            { location: 6.741453599996653, props: { number: '1800' } },
            { location: 6.506920146919885, props: { number: '1906' } },
            { location: 6.464827936199479, props: { number: '1930' } },
            { location: 6.431871803670818, props: { number: '1950' } },
            { location: 6.392587844373935, props: { number: '1960' } },
            { location: 6.337103272282497, props: { number: '1984' } },
            { location: 6.255964315619455, props: { number: '1998' } },
            { location: 6.15092580538466, props: { number: '2000' } },
            { location: 6.204198075546772, props: { number: '2012' } },
            { location: 6.181637729680916, props: { number: '2014' } },
            { location: 6.0941044957518775, props: { number: '2022' } },
            { location: 6.030432901604912, props: { number: '2087' } },
            { location: 5.987000080297462, props: { number: '2105' } },
            { location: 6.019548738529353, props: { number: '2130' } },
            { location: 5.847288725279779, props: { number: '2133' } },
            { location: 0.03053158411260917, props: { number: '2134' } },
            { location: 5.849520675285012, props: { number: '2135' } },
            { location: 5.954257829688913, props: { number: '2136' } },
            { location: 5.807533958468284, props: { number: '2137' } },
            { location: 5.919921801014322, props: { number: '2138' } },
            { location: 5.892617508821852, props: { number: '2140' } },
            { location: 0.048366324831977905, props: { number: '2148' } },
            { location: 5.857316833114616, props: { number: '2152' } },
            { location: 0.06352338189205223, props: { number: '2156' } },
            { location: 5.832136074005795, props: { number: '2170' } },
            { location: 5.784101589124033, props: { number: '2175' } },
            { location: 0.08615297975538563, props: { number: '2176' } },
            { location: 5.790529424701781, props: { number: '2176' } },
            { location: 5.7621061448024085, props: { number: '2178' } },
            { location: 5.789528917946092, props: { number: '2180' } },
            { location: 0.1346453713514714, props: { number: '2184' } },
            { location: 5.766290299944579, props: { number: '2190' } },
            { location: 0.1165923984527231, props: { number: '2195' } },
            { location: 0.1302492914937056, props: { number: '2200' } },
            { location: 5.710717460906815, props: { number: '2200' } },
            { location: 5.684814443326925, props: { number: '2208' } },
            { location: 5.633852082541396, props: { number: '2210' } },
            { location: 5.712401706702018, props: { number: '2211' } },
            { location: 0.1455249863445418, props: { number: '2213' } },
            { location: 5.671904124825301, props: { number: '2217' } },
            { location: 5.595903087670634, props: { number: '2220' } },
            { location: 5.61522832206264, props: { number: '2247' } },
            { location: 5.5511266769222605, props: { number: '2250' } },
            { location: 5.559774239456863, props: { number: '2257' } },
            { location: 5.522013649347249, props: { number: '2260' } },
            { location: 5.54505592207552, props: { number: '2261' } },
            { location: 5.520705978259023, props: { number: '2265' } },
            { location: 5.4908742784006295, props: { number: '2269' } },
            { location: 5.461802485572269, props: { number: '2289' } },
            { location: 5.425238693773578, props: { number: '2299' } },
            { location: 5.443234994100879, props: { number: '2300' } },
            { location: 5.392373424357952, props: { number: '2311' } },
            { location: 5.3599601400628645, props: { number: '2323' } },
            { location: 0.2539619441086917, props: { number: '2345' } },
            { location: 5.337085440768414, props: { number: '2352' } },
            { location: 5.263313614913164, props: { number: '2359' } },
            { location: 5.291293082981367, props: { number: '2360' } },
            { location: 5.291326699726047, props: { number: '2360a' } },
            { location: 5.304387325852435, props: { number: '2360' } },
            { location: 0.3653808100631383, props: { number: '2361' } },
            { location: 5.2825277798506525, props: { number: '2364' } },
            { location: 5.27411728670514, props: { number: '2368' } },
            { location: 5.2658515058656405, props: { number: '2372' } },
            { location: 5.254098744870189, props: { number: '2374' } },
            { location: 0.3937179874481841, props: { number: '2375' } },
            { location: 0.41067185021836256, props: { number: '2375' } },
            { location: 5.245359308868048, props: { number: '2376' } },
            { location: 5.237319281360732, props: { number: '2378' } },
            { location: 0.2868180428462486, props: { number: '2390' } },
            { location: 5.182334535340944, props: { number: '2390' } },
            { location: 0.4321790073559773, props: { number: '2397' } },
            { location: 5.158072213691929, props: { number: '2400' } },
            { location: 5.155854829867195, props: { number: '2405' } },
            { location: 5.13402766054709, props: { number: '2410' } },
            { location: 0.45283447931593634, props: { number: '2415' } },
            { location: 0.455179359540504, props: { number: '2417' } },
            { location: 5.099943912137724, props: { number: '2422' } },
            { location: 5.058977136961156, props: { number: '2430' } },
            { location: 5.054581093331273, props: { number: '2440c' } },
            { location: 5.018396196723278, props: { number: '2440a' } },
            { location: 5.018637280138445, props: { number: '2440' } },
            { location: 5.063512344066236, props: { number: '2440b' } },
            { location: 5.022930589034878, props: { number: '2440' } },
            { location: 0.497463422206795, props: { number: '2447' } },
            { location: 4.992529820956375, props: { number: '2460' } },
            { location: 4.9454137126616455, props: { number: '2478' } },
            { location: 4.918437819084168, props: { number: '2494' } },
            { location: 4.675626836709032, props: { number: '2505' } },
            { location: 4.856990406521768, props: { number: '2510' } },
            { location: 4.793674642894263, props: { number: '2525' } },
            { location: 4.791172214072023, props: { number: '2550' } },
            { location: 4.773570982140927, props: { number: '2552' } },
            { location: 4.751210212807477, props: { number: '2556' } },
            { location: 4.701632256323191, props: { number: '2560' } },
            { location: 4.686436798745367, props: { number: '2562' } },
            { location: 4.671898844588994, props: { number: '2564' } },
            { location: 4.330254783582592, props: { number: '2600' } },
            { location: 4.4112616726326115, props: { number: '2602' } },
            { location: 4.404395655150885, props: { number: '2701' } },
            { location: 4.345853659358116, props: { number: '2703' } },
            { location: 4.291865154092739, props: { number: '2715' } },
            { location: 4.245260551116815, props: { number: '2736' } },
            { location: 4.220795483698303, props: { number: '2744' } },
            { location: 4.08385283299629, props: { number: '2799' } },
            { location: 4.036640407756266, props: { number: '2807' } },
            { location: 4.022704434435596, props: { number: '2830' } },
            { location: 3.9803552239260056, props: { number: '2833' } },
            { location: 3.9443479699716284, props: { number: '2849' } },
            { location: 3.9093562628131746, props: { number: '2859' } },
            { location: 3.889259780651679, props: { number: '2876' } },
            { location: 3.857846851707167, props: { number: '2879' } },
            { location: 3.8100010204751222, props: { number: '2885' } },
            { location: 3.8497570419850655, props: { number: '2894' } },
            { location: 3.7836126670818215, props: { number: '2911' } },
            { location: 3.752010601291721, props: { number: '2931' } },
            { location: 3.7326240314348778, props: { number: '2945' } },
            { location: 3.774464726540188, props: { number: '2945' } },
            { location: 3.6939713108382715, props: { number: '2965' } },
            { location: 3.591914349549134, props: { number: '2970' } },
            { location: 3.578205886461531, props: { number: '2970' } },
            { location: 3.6472034705895253, props: { number: '2970' } },
            { location: 3.5760067191572595, props: { number: '2970' } },
            { location: 3.6438831762039867, props: { number: '2970' } },
            { location: 3.8758938691370055, props: { number: '2970' } },
            { location: 3.7112141068623155, props: { number: '2970' } },
            { location: 3.6455960628921087, props: { number: '2970' } },
            { location: 3.5944577514011287, props: { number: '2970' } },
            { location: 3.773156923774056, props: { number: '2970' } },
            { location: 3.8503813617731595, props: { number: '2970' } },
            { location: 3.891279756980212, props: { number: '2970' } },
            { location: 3.6626525787608943, props: { number: '2970' } },
            { location: 3.7221088563876163, props: { number: '2970' } },
            { location: 3.78718868175903, props: { number: '2970' } },
            { location: 3.720479520865958, props: { number: '2970' } },
            { location: 3.7718082380730276, props: { number: '2970' } },
            { location: 3.6619812468786623, props: { number: '2973' } },
            { location: 3.6234207586298792, props: { number: '2985' } },
            { location: 3.5878276990894915, props: { number: '3001' } },
            { location: 3.49472939576766, props: { number: '3030' } },
            { location: 3.4651142403272837, props: { number: '3041' } },
            { location: 3.419992011797984, props: { number: '3065' } },
            { location: 3.39542003089438, props: { number: '3075' } },
            { location: 3.3530490637310817, props: { number: '3095' } },
            { location: 3.3337823557983013, props: { number: '3102' } },
            { location: 3.3185365657628147, props: { number: '3108' } },
            { location: 3.311672786250727, props: { number: '3109' } },
            { location: 3.2986104644795056, props: { number: '3114' } },
            { location: 3.29058252301905, props: { number: '3119' } },
            { location: 3.2654841710901965, props: { number: '3125' } },
            { location: 3.2679227499794674, props: { number: '3134' } },
            { location: 3.243082237347815, props: { number: '3139' } },
            { location: 3.2511311134739955, props: { number: '3142' } },
            { location: 3.218935096311097, props: { number: '3156' } },
            { location: 3.201473486494278, props: { number: '3163' } },
            { location: 3.1790788184084895, props: { number: '3175' } },
            { location: 3.1862051958548125, props: { number: '3190' } },
            { location: 3.1343344783668434, props: { number: '3191' } },
            { location: 3.185450709184708, props: { number: '3192' } },
            { location: 3.1370758837268173, props: { number: '3193' } },
            { location: 3.1505449372459253, props: { number: '3196' } },
            { location: 3.1273468209189965, props: { number: '3200' } },
            { location: 3.0914343715946657, props: { number: '3206' } },
            { location: 3.064361796855781, props: { number: '3219' } },
            { location: 3.0390848069679937, props: { number: '3220' } },
            { location: 3.0425946384496942, props: { number: '3221' } },
            { location: 3.011857051125836, props: { number: '3231' } },
            { location: 2.998570650751296, props: { number: '3240' } },
            { location: 2.9831306649147176, props: { number: '3251' } },
            { location: 2.951348318819425, props: { number: '3261' } },
            { location: 2.9614488283334537, props: { number: '3272' } },
            { location: 2.9262350957985417, props: { number: '3273' } },
            { location: 2.9279860763639656, props: { number: '3282' } },
            { location: 2.8912265139496585, props: { number: '3286' } },
            { location: 2.8916475649080153, props: { number: '3288' } },
            { location: 2.903029586769611, props: { number: '3291' } },
            { location: 2.8604297864896413, props: { number: '3294' } },
            { location: 2.8447741665050605, props: { number: '3300' } },
            { location: 2.8295547919676336, props: { number: '3310' } },
            { location: 2.8381269437433865, props: { number: '3311' } },
            { location: 2.819065833484946, props: { number: '3312' } },
            { location: 2.795008917693745, props: { number: '3320' } },
            { location: 2.794522371742042, props: { number: '3330' } },
            { location: 2.794579460549903, props: { number: '3335' } },
            { location: 2.7483386046187404, props: { number: '3344' } },
            { location: 2.7638939426350286, props: { number: '3353' } },
            { location: 2.6312575395892566, props: { number: '3357' } },
            { location: 2.713143873061402, props: { number: '3357' } },
            { location: 2.656822692183708, props: { number: '3357' } },
            { location: 2.7076532841627676, props: { number: '3360' } },
            { location: 2.705635779341812, props: { number: '3392' } },
            { location: 2.640485025267537, props: { number: '3400' } },
            { location: 2.667346046713973, props: { number: '3400c' } },
            { location: 2.6861190401647277, props: { number: '3400' } },
            { location: 2.6006548501280395, props: { number: '3402' } },
            { location: 2.5901134380027937, props: { number: '3404' } },
            { location: 2.5753321002085654, props: { number: '3406' } },
            { location: 2.5762261630147862, props: { number: '3415' } },
            { location: 2.5421438020965126, props: { number: '3425' } },
            { location: 2.5678169905545527, props: { number: '3427' } },
            { location: 2.5156093337456102, props: { number: '3437' } },
            { location: 2.4793056173281665, props: { number: '3449' } },
            { location: 2.5168907027779093, props: { number: '3450' } },
            { location: 2.5356984901113186, props: { number: '3456' } },
            { location: 2.5304645221960276, props: { number: '3458' } },
            { location: 2.5072198452922785, props: { number: '3460' } },
            { location: 2.4445342648287856, props: { number: '3468' } },
            { location: 2.4409316341267266, props: { number: '3468' } },
            { location: 2.44817955088574, props: { number: '3469' } },
            { location: 2.4236836379415982, props: { number: '3475' } },
            { location: 2.3989190489060834, props: { number: '3485' } },
            { location: 2.414128711233571, props: { number: '3486' } },
            { location: 2.4211474285822887, props: { number: '3492' } },
            { location: 2.369841536416388, props: { number: '3493' } },
            { location: 2.3760377981006564, props: { number: '3493' } },
            { location: 2.38952444252088, props: { number: '3493r' } },
            { location: 2.358426932309035, props: { number: '3502' } },
            { location: 2.3414770679313075, props: { number: '3507' } },
            { location: 2.329965670433989, props: { number: '3516' } },
            { location: 2.310883940600163, props: { number: '3519' } },
            { location: 2.299896435399405, props: { number: '3522' } },
            { location: 2.2753474413933312, props: { number: '3533' } },
            { location: 2.271615774177301, props: { number: '3536' } },
            { location: 2.2278176681859057, props: { number: '3545' } },
            { location: 2.2459675019551684, props: { number: '3546' } },
            { location: 2.184748516775807, props: { number: '3571' } },
            { location: 2.1985993466247518, props: { number: '3574' } },
            { location: 2.1723099909352626, props: { number: '3576' } },
            { location: 2.098223386461564, props: { number: '3585' } },
            { location: 2.069129936953046, props: { number: '3595' } },
            { location: 2.034261432057278, props: { number: '3605' } },
            { location: 2.0013941971132905, props: { number: '3645' } },
            { location: 1.9464364902696774, props: { number: '3646' } },
            { location: 1.9641567390041552, props: { number: '3655' } },
            { location: 1.9509397993721522, props: { number: '3661' } },
            { location: 1.9174010158545605, props: { number: '3662' } },
            { location: 1.9308109903660582, props: { number: '3665' } },
            { location: 1.8926080533093748, props: { number: '3676' } },
            { location: 1.8989024582568033, props: { number: '3677' } },
            { location: 1.8568738288537299, props: { number: '3690' } },
            { location: 1.837508701574144, props: { number: '3698' } },
            { location: 1.808074981554723, props: { number: '3714' } },
            { location: 1.7740003330599636, props: { number: '3726' } },
            { location: 1.865570665756086, props: { number: '3727' } },
            { location: 1.769326750335474, props: { number: '3728' } },
            { location: 1.7396459607155599, props: { number: '3740' } },
            { location: 1.8092052214700134, props: { number: '3745' } },
            { location: 1.7257761974664683, props: { number: '3751' } },
            { location: 1.7366947361341392, props: { number: '3751-3781' } },
            { location: 1.7264551732050837, props: { number: '3755' } },
            { location: 1.6916348993669363, props: { number: '3770' } },
            { location: 1.6619041712173421, props: { number: '3776' } },
            { location: 1.6719933199458474, props: { number: '3781' } },
            { location: 1.6420593115612654, props: { number: '3788' } },
            { location: 1.6201473388549086, props: { number: '3794' } },
            { location: 1.6112535795225185, props: { number: '3799' } },
            { location: 1.5983533369674485, props: { number: '3800' } },
            { location: 1.5627335283931465, props: { number: '3811' } },
            { location: 1.554455737877565, props: { number: '3814' } },
            { location: 1.5527887354480594, props: { number: '3816' } },
            { location: 1.5313251071883454, props: { number: '3825' } },
            { location: 1.5181194674601406, props: { number: '3830' } },
            { location: 1.4940486070535888, props: { number: '3841' } },
            { location: 1.4809876416267027, props: { number: '3848' } },
            { location: 1.4321118255325034, props: { number: '3860' } },
            { location: 1.451368963558679, props: { number: '3861' } },
            { location: 1.4464640133663869, props: { number: '3862' } },
            { location: 1.4155914874951459, props: { number: '3870' } },
            { location: 1.4220249192473442, props: { number: '3871' } },
            { location: 1.387908048911441, props: { number: '3880' } },
            { location: 1.3957347997992682, props: { number: '3883' } },
            { location: 1.3657005812434146, props: { number: '3888' } },
            { location: 1.3814233719392337, props: { number: '3889' } },
            { location: 1.3428444001947344, props: { number: '3900' } },
            { location: 1.3457338052106727, props: { number: '3905' } },
            { location: 1.3175336847028982, props: { number: '3911' } },
            { location: 1.2724715463751974, props: { number: '3929' } },
            { location: 1.2707695124104965, props: { number: '3936' } },
            { location: 1.2354679970159683, props: { number: '3945' } },
            { location: 1.2200072918623763, props: { number: '3954' } },
            { location: 1.2005635720827237, props: { number: '3967' } },
            { location: 1.1873412178284177, props: { number: '3970' } },
            { location: 1.1693183203979378, props: { number: '3975' } },
            { location: 1.1402612643013303, props: { number: '3980' } },
            { location: 1.109665157060287, props: { number: '3986' } },
            { location: 1.141365865044352, props: { number: '3987' } },
            { location: 1.0797581186377805, props: { number: '4000' } },
            { location: 1.1010239078278867, props: { number: '4005' } },
            { location: 1.0410243564091306, props: { number: '4012' } },
            { location: 1.0355964299510279, props: { number: '4014' } },
            { location: 1.072779597079987, props: { number: '4015' } },
            { location: 1.0324177653055335, props: { number: '4016' } },
            { location: 1.0287556526118125, props: { number: '4018' } },
            { location: 1.024994307965947, props: { number: '4020' } },
            { location: 1.0374909101683032, props: { number: '4029' } },
            { location: 1.0009748367405955, props: { number: '4030' } },
            { location: 1.0060922137730515, props: { number: '4035' } },
            { location: 0.9881291328897672, props: { number: '4040' } },
            { location: 0.9849274677192795, props: { number: '4045' } },
            { location: 0.9597997363256404, props: { number: '4061' } },
            { location: 0.889374110819966, props: { number: '4077' } },
            { location: 0.937153501121507, props: { number: '4084' } },
            { location: 0.8963340136350116, props: { number: '4090' } },
            { location: 0.8528793820945675, props: { number: '4096' } },
            { location: 0.8513199512976571, props: { number: '4107' } },
            { location: 0.8038714876128152, props: { number: '4115' } },
            { location: 0.7820070846410889, props: { number: '4120' } }
        ]
    };

    cluster.addressPoints.sort((a, b) => a.location - b.location);

    const distDelta = buildDistDelta(cluster);

    const breaks = [];

    Cluster.detectPeaks(breaks, cluster.addressPoints, distDelta);

    t.deepEquals(breaks, [20]); // TODO: this breaks too late
    t.end();
});
